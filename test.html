<!DOCTYPE html>
<html>
<head>
  <title>Test PDF</title>
</head>
<body>
  <table id="expenses-table">
    <thead>
      <tr>
        <th>Name</th>
        <th>Amount</th>
        <th>Date</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Expense 1</td>
        <td>$100</td>
        <td>2022-01-01</td>
      </tr>
      <tr>
        <td>Expense 2</td>
        <td>$200</td>
        <td>2022-02-02</td>
      </tr>
    </tbody>
  </table>

  <button id="downloadButton">Download PDF</button>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://unpkg.com/jspdf-autotable@3.5.23/dist/jspdf.plugin.autotable.js"></script>
  <script>
    window.onload = function() {
      var downloadButton = document.getElementById('downloadButton');
      downloadButton.addEventListener('click', function() {
        var expensesTable = document.getElementById('expenses-table');

        // Create a new jsPDF instance
        var doc = new window.jspdf.jsPDF();

        // Prepare table data for autoTable
        var headers = Array.from(expensesTable.rows[0].cells).map(cell => cell.textContent);
        var data = Array.from(expensesTable.rows).slice(1).map(row => Array.from(row.cells).map(cell => cell.textContent));

        // Add the table to the PDF
        doc.autoTable({
          head: [headers],
          body: data,
        });

        // Save the PDF
        doc.save('expenses.pdf');
      });
    }
  </script>
</body>
</html>